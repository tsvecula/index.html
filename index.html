<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AXION Configurator</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#0b1220;
  color:white;
  margin:0;
  padding:20px;
}
.card{
  background:#111a30;
  padding:20px;
  border-radius:10px;
  margin-bottom:15px;
}
button{
  padding:10px 16px;
  border-radius:6px;
  border:none;
  cursor:pointer;
}
.primary{
  background:#3aa6ff;
  color:white;
}
.secondary{
  background:#333;
  color:white;
}
.choice{
  padding:12px;
  border:1px solid #333;
  margin:6px 0;
  cursor:pointer;
  border-radius:6px;
}
.choice:hover{
  border-color:#3aa6ff;
}
.selected{
  border-color:#3aa6ff;
  background:#16233f;
}
h2{
  margin-top:0;
}
</style>
</head>

<body>

<h1>AXION Configurator</h1>

<div class="card">
<label>Currency:</label>
<select id="currency">
  <option value="USD">$ USD (ft)</option>
  <option value="EUR">â‚¬ EUR (m)</option>
</select>
</div>

<div class="card" id="wizard"></div>

<div class="card">
<h2>Summary</h2>
<div id="summary"></div>
<h3 id="total"></h3>
</div>

<script>

const state = {
  step:0,
  currency:"USD",
  category:null,
  model:null,
  size:null,
  extras:[]
};

const categories = {
  tents:["Easy","Lite","Square","Cube","Spider","Tripod","Hexa","Pod"],
  shapes:["Arch","Tube","Can","Bottle","Block","Wall","Float","Podium"],
  furniture:["Table","Desk","Seat","Chillout","Donut"],
  motorsport:["Square Motorsport","ERA X 6060"]
};

const sizes = {
  Square:[
    {m:"6x6 m", ft:"19x19 ft"},
    {m:"7x7 m", ft:"23x23 ft"}
  ],
  "Square Motorsport":[
    {m:"6x6 m", ft:"19x19 ft"},
    {m:"7x7 m", ft:"23x23 ft"}
  ],
  "ERA X 6060":[
    {m:"6x6 m", ft:"19x19 ft"}
  ]
};

function render(){

  const wizard = document.getElementById("wizard");
  wizard.innerHTML="";

  if(state.step===0){
    wizard.innerHTML="<h2>Select Category</h2>";
    Object.keys(categories).forEach(cat=>{
      const div=document.createElement("div");
      div.className="choice";
      div.innerText=cat.toUpperCase();
      div.onclick=()=>{
        state.category=cat;
        state.model=null;
        state.size=null;
        state.extras=[];
        state.step=1;
        render();
      };
      wizard.appendChild(div);
    });
  }

  if(state.step===1){
    wizard.innerHTML="<h2>Select Model</h2>";
    categories[state.category].forEach(model=>{
      const div=document.createElement("div");
      div.className="choice";
      div.innerText=model;
      div.onclick=()=>{
        state.model=model;
        state.size=null;
        state.extras=[];
        state.step=2;
        render();
      };
      wizard.appendChild(div);
    });

    addBack();
  }

  if(state.step===2){
    wizard.innerHTML="<h2>Select Size</h2>";

    const modelSizes=sizes[state.model]||[{m:"Standard",ft:"Standard"}];

    modelSizes.forEach(s=>{
      const div=document.createElement("div");
      div.className="choice";
      div.innerText= state.currency==="USD"? s.ft : s.m;
      div.onclick=()=>{
        state.size= state.currency==="USD"? s.ft : s.m;
        state.step=3;
        render();
      };
      wizard.appendChild(div);
    });

    addBack();
  }

  if(state.step===3){
    wizard.innerHTML="<h2>Select Accessories</h2>";

    // MOTORSPORT ONLY
    if(state.category==="motorsport"){
      const motorsportExtras=[
        "Mosquito Wall",
        "Panorama Door",
        "PVC Motorsport Floor",
        "Lighting System"
      ];

      motorsportExtras.forEach(extra=>{
        const div=document.createElement("div");
        div.className="choice";
        div.innerText=extra;
        div.onclick=()=>{
          if(state.extras.includes(extra)){
            state.extras=state.extras.filter(e=>e!==extra);
            div.classList.remove("selected");
          } else {
            state.extras.push(extra);
            div.classList.add("selected");
          }
          updateSummary();
        };
        wizard.appendChild(div);
      });
    }

    // REGULAR PRODUCTS
    if(state.category!=="motorsport"){
      const regularExtras=[
        "Automatic Pump",
        "Extra Carry Bag"
      ];

      regularExtras.forEach(extra=>{
        const div=document.createElement("div");
        div.className="choice";
        div.innerText=extra;
        div.onclick=()=>{
          if(state.extras.includes(extra)){
            state.extras=state.extras.filter(e=>e!==extra);
            div.classList.remove("selected");
          } else {
            state.extras.push(extra);
            div.classList.add("selected");
          }
          updateSummary();
        };
        wizard.appendChild(div);
      });
    }

    addBack();
  }

  updateSummary();
}

function addBack(){
  const wizard=document.getElementById("wizard");
  const btn=document.createElement("button");
  btn.innerText="Back";
  btn.className="secondary";
  btn.onclick=()=>{
    state.step--;
    render();
  };
  wizard.appendChild(btn);
}

function updateSummary(){
  const summary=document.getElementById("summary");
  summary.innerHTML=`
    Category: ${state.category||""}<br>
    Model: ${state.model||""}<br>
    Size: ${state.size||""}<br>
    Extras: ${state.extras.join(", ")}
  `;
  document.getElementById("total").innerText="Estimated Price: (Pricing from Excel will be connected next)";
}

document.getElementById("currency").onchange=(e)=>{
  state.currency=e.target.value;
  render();
};

render();

</script>

</body>
</html>
